<div class="flex align-items-center justify-content-center gap-3">
   <!--  <p style="font-weight: 700;">Date importation:
        <p-tag [value]="dateImporation?dateImporation:'--/--/--/'" severity="primary"></p-tag>
    </p>    -->
    <div class="p-w-16">
        <p-multiSelect [displaySelectedLabel]="true" [maxSelectedLabels]="selectedEntities.length"
            (onPanelHide)="getDataWithEntity()" [style]="{'width':'300px'}" placeholder="Entité"
            [options]="entityOptions" [(ngModel)]="selectedEntities" optionLabel="entityName"
            (onFilter)="searchEntity($event)"></p-multiSelect>
    </div>
</div>

<div class="mt-3">
    <div class="flex gap-3">
        <div class="flex-1 h-5rem border-round text-white flex items-center justify-content-between border border-gray-200 rounded-lg shadow-sm" style="background-color: #ABCF5D; cursor: pointer;" [routerLink]="['../customer-pay-evolution']">
            <div class="p-1 flex items-center justify-content-between">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="opacity-30 w-12 h-12 flex">
                    <path d="M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75ZM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 0 1-1.875-1.875V8.625ZM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 0 1 3 19.875v-6.75Z" />
                </svg>
            </div>
            <div class="m-3">
                <span class="flex cursor text-left text-3xl font-normal p-0">{{amount| numberSuffix:3}} TND</span>
                <span class="flex cursor text-left text-lg font-normal p-0">Solde clients</span> 
            </div> 
        </div>
        
        <div class="flex-1 h-5rem border-round text-white flex items-center justify-content-between border border-gray-200 rounded-lg shadow-sm" style="background-color: #C1C1C1;">
            <div class="p-1 flex items-center justify-content-between">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="opacity-30 w-12 h-12 flex">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z" />
                </svg>
            </div>
            <div class="m-3">
                <span class="flex cursor text-right text-3xl font-normal p-0">{{actionToDo}}</span>
                <span class="flex cursor text-lg font-normal p-0">Actions de relance à effectuer</span> 
            </div> 
        </div>

        <div class="flex-1 h-5rem border-round text-white flex items-center justify-content-between border border-gray-200 rounded-lg shadow-sm" style="background-color: #4499B9;" [routerLink]="['../aging-delay']">
            <div class="p-1 flex items-center justify-content-between">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="opacity-30 w-12 h-12 flex">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.902 7.098a3.75 3.75 0 0 1 3.903-.884.75.75 0 1 0 .498-1.415A5.25 5.25 0 0 0 8.005 9.75H7.5a.75.75 0 0 0 0 1.5h.054a5.281 5.281 0 0 0 0 1.5H7.5a.75.75 0 0 0 0 1.5h.505a5.25 5.25 0 0 0 6.494 2.701.75.75 0 1 0-.498-1.415 3.75 3.75 0 0 1-4.252-1.286h3.001a.75.75 0 0 0 0-1.5H9.075a3.77 3.77 0 0 1 0-1.5h3.675a.75.75 0 0 0 0-1.5h-3c.105-.14.221-.274.348-.402Z" />
                </svg>
            </div>
            <div class="m-3">
                <span class="flex cursor text-right text-3xl font-normal p-0">{{remainingDelay| numberSuffix:3}} TND</span>
                <span class="flex cursor text-lg font-normal p-0">Solde en retard de recouvrement</span> 
            </div> 
        </div>
    </div>
</div>

<div class="mt-3">
    <div class="flex gap-3">
        <div class="flex-1 p-4 surface-ground border-1 border-round shadow-2 sm:p-6 surface-border" >
            <h5 style="font-weight:normal; font-size : large" >Balance agée</h5>
            <div id="chart2">
                <apx-chart width="100%" [series]="chartOptions2.series" [chart]="chartOptions2.chart"
                    [dataLabels]="chartOptions2.dataLabels" [plotOptions]="chartOptions2.plotOptions"
                    [yaxis]="chartOptions2.yaxis" [xaxis]="chartOptions2.xaxis" [legend]="chartOptions2.legend"
                    [colors]="chartOptions2.colors" [grid]="chartOptions2.grid"></apx-chart>
            </div>
            <a class="inline-flex items-center p-2 text-xs font-medium uppercase rounded-lg text-primary-700 sm:text-sm hover:bg-gray-100" style="text-decoration: none;" [routerLink]="['../report-balance-aging']">               
                rapport <i class="pi pi-angle-right"></i>                
            </a>  
        </div>
        
        <div class="flex-1 p-4 surface-ground border-1 border-round shadow-2 sm:p-6 surface-border" >
            <h5 style="font-weight:normal; font-size : large; margin-bottom: 5rem;">Status des pièces</h5>

            <div id="chart3">
                <apx-chart [legend]="chartOptions3.legend" [fill]="chartOptions3.fill" [series]="chartOptions3.series"
                    [chart]="chartOptions3.chart" [labels]="chartOptions3.labels"
                    [responsive]="chartOptions3.responsive"></apx-chart>
            </div>
            <a style="margin-top: 4rem;" class="inline-flex items-center p-2 text-xs font-medium uppercase rounded-lg text-primary-700 sm:text-sm hover:bg-gray-100">               
                rapport <i class="pi pi-angle-right"></i>                
            </a>                
      
        </div>

        <div class="flex-1 p-4 surface-ground border-1 border-round shadow-2 sm:p-6 surface-border" >
            <h5 style="font-weight:normal; font-size : large" >Prévision de recouvrement</h5>

            <div id="chart4">
                <apx-chart [series]="chartOptions4.series" [chart]="chartOptions4.chart"
                    [dataLabels]="chartOptions4.dataLabels" [plotOptions]="chartOptions4.plotOptions"
                    [responsive]="chartOptions4.responsive" [xaxis]="chartOptions4.xaxis" [legend]="chartOptions4.legend"
                    [fill]="chartOptions4.fill"></apx-chart>
            </div>
            <a class="inline-flex items-center p-2 text-xs font-medium uppercase rounded-lg text-primary-700 sm:text-sm hover:bg-gray-100"  style="text-decoration: none;" [routerLink]="['../report-cash-forecast']">               
                rapport <i class="pi pi-angle-right"></i>                
            </a>  
        </div>
    </div>
</div>


<div class="mt-3">
    <div class="flex gap-3">
        <div class="flex-1 p-4 surface-ground border-1 border-round shadow-2 sm:p-6 surface-border"  style="text-decoration: none;" [routerLink]="['../dso-trend']" >
            <h5 style="font-weight:normal; font-size : large">Evolution du délai de récouvrement</h5>

            <div id="chart5">
                <apx-chart [series]="chartOptions5.series" [chart]="chartOptions5.chart" [yaxis]="chartOptions5.yaxis"
                    [xaxis]="chartOptions5.xaxis" [labels]="chartOptions5.labels" [stroke]="chartOptions5.stroke"
                    [title]="chartOptions5.title" [dataLabels]="chartOptions5.dataLabels" [fill]="chartOptions5.fill"
                    [tooltip]="chartOptions5.tooltip"></apx-chart>
            </div>
            <a class="inline-flex items-center p-2 text-xs font-medium uppercase rounded-lg text-primary-700 sm:text-sm hover:bg-gray-100">               
                rapport <i class="pi pi-angle-right"></i>                
            </a>  
        </div>
        
        <div class="flex-1 p-4 surface-ground border-1 border-round shadow-2 sm:p-6 surface-border" >
            <h5 style="font-weight:normal; font-size : large">Evolution des retards</h5>

            <div id="chart" class="w-full">
                <apx-chart width="100%" height="100%" [series]="chartOptions.series" [chart]="chartOptions.chart"
                    [xaxis]="chartOptions.xaxis" [markers]="chartOptions.markers" [stroke]="chartOptions.stroke"
                    [yaxis]="chartOptions.yaxis" [dataLabels]="chartOptions.dataLabels" [title]="chartOptions.title"
                    [fill]="chartOptions.fill" [tooltip]="chartOptions.tooltip" [legend]="chartOptions.legend"></apx-chart>
            </div>
            <a class="inline-flex items-center p-2 text-xs font-medium uppercase rounded-lg text-primary-700 sm:text-sm hover:bg-gray-100" style="text-decoration: none;" [routerLink]="['../overdue-trend']">               
                rapport <i class="pi pi-angle-right"></i>                
            </a>  
        </div>
    </div>
</div>
